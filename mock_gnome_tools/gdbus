#!/bin/bash
# Mock gdbus for testing

if [[ "$*" == *"getVersion"* ]]; then
    if [[ -f "/tmp/mock_extension_enabled" ]]; then
        echo '("{"version":"1.0.1","name":"Active Window Details"}",)'
    else
        echo "Error: Extension not running" >&2
        exit 1
    fi
elif [[ "$*" == *"getWinFocusData"* ]]; then
    if [[ -f "/tmp/mock_extension_enabled" ]]; then
        echo '("{"title":"Test Window","class":"test-app"}",)'
    else
        echo "Error: Extension not running" >&2
        exit 1
    fi
elif [[ "$*" == *"scanForExtensions"* ]]; then
    # Simulate extension scanning
    touch "/tmp/mock_extension_installed"
    exit 0
else
    exit 0
fi

